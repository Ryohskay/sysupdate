#!/usr/bin/env bash

# This is a script to let users update user-installed commands.
# remember current directory
CURR_DIR= `pwd`

# oh-my-zsh
if [ $(command -v omz) ]; then
    omz update
fi

# sdkman
if [ $(command -v sdk) ]; then
    sdk update
fi

# rustup
if [ $(command -v rustup) ]; then
    rustup update
fi

# pip?
# pyenv
if [ $(test -d $HOME/.pyenv) ]; then
    cd $HOME/.pyenv
    git pull --rebase
    cd CURR_DIR
fi

# rbenv
if [ $(test -d $HOME/.rbenv) ]; then
    cd $HOME/.rbenv
    git pull --rebase
    # ruby-build
    if [ $(test -d $(rbenv root)/plugins/ruby-build) ]; then
        git -C "$(rbenv root)"/plugins/ruby-build pull
    fi
fi

# nvm

# yarn
if [ $(test -d $HOME/.yarn) ]; then
    cd $HOME
    yarn upgrade
    cd $CURR_DIR
fi
